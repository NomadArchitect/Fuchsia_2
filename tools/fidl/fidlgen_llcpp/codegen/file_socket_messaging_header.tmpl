{{/*
// Copyright 2021 The Fuchsia Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.
*/}}

{{- define "Filename:DriverMessagingHeader" -}}
fidl/{{ .LibraryDots }}/cpp/driver_messaging.h
{{- end }}


{{- define "File:DriverMessagingHeader" -}}
  {{- UseWire -}}
  // WARNING: This file is machine generated by fidlgen.

  #pragma once

  #include <{{ .Library | Filename "Markers" }}>
  #include <{{ .Library | Filename "TypesHeader" }}>

  #include <lib/fidl/llcpp/wire_messaging.h>

  {{ IfdefFuchsia }}
    #include <lib/fidl/llcpp/client.h>
    #include <lib/fidl/llcpp/connect_service.h>
    #include <lib/fidl/llcpp/server.h>
    #include <lib/fidl/llcpp/service_handler_interface.h>
    #include <lib/fidl/llcpp/sync_call.h>
  {{ EndifFuchsia }}

  {{ range .Dependencies -}}
    #include <{{ . | Filename "DriverMessagingHeader" }}>
  {{ end -}}


  {{- range (call .ProtocolsForTransport "Driver") }}
    {{ template "Socket:Protocol:ForwardDeclaration:MessagingHeader" . }}
  {{- end }}

  {{- range (call .ProtocolsForTransport "Driver") }}
    {{ template "Socket:Protocol:MessagingHeader" . }}
  {{- end }}

  {{ EnsureNamespace "fidl" }}

  {{- range (call .ProtocolsForTransport "Driver") }}
    {{ template "Socket:Protocol:Traits:MessagingHeader" . }}
  {{- end }}

  {{- range (call .ProtocolsForTransport "Driver") }}
    {{- range .TwoWayMethods }}
      {{ template "Socket:Method:ResponseContext:MessagingHeader" . }}
    {{- end }}

    {{ template "Socket:Protocol:ClientImpl:MessagingHeader" . }}

    {{ template "Socket:Protocol:EventSender:MessagingHeader" . }}

    {{- end }}

  {{ EndOfFile }}
{{ end }}
