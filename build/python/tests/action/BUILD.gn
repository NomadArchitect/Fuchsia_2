# Copyright 2021 The Fuchsia Authors. All rights reserved.
# Use of this source code is governed by a BSD-style license that can be
# found in the LICENSE file.

import("//build/python/python_action.gni")

python_action("action_module_loading") {
  testonly = true

  modules = [ "modules/test_module.py" ]
  script = "action_test.py"
  outputs = [ "${target_out_dir}/message_file.txt" ]

  args = [
    "--outfile",
    rebase_path(outputs[0], root_build_dir),
    "--message",

    # This purposely contains a space, and is validated by the scripted, to
    # ensure that it doesn't get split into two args by the runner.
    "A message",
  ]
}

group("tests") {
  testonly = true
  deps = [ ":action_module_loading" ]
}
