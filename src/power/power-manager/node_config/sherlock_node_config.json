[
  {
    "type": "DriverManagerHandler",
    "name": "driver_manager_handler",
    "config": {}
  },
  {
    "type": "ShutdownWatcher",
    "name": "shutdown_watcher"
  },
  {
    "type": "SystemShutdownHandler",
    "name": "sys_shutdown",
    "config": {
      "shutdown_timeout_s": 3600
    },
    "dependencies": {
      "driver_manager_handler_node": "driver_manager_handler",
      "shutdown_watcher_node": "shutdown_watcher"
    }
  },
  {
    "type": "SyscallHandler",
    "name": "syscall_handler"
  },
  {
    "type": "CrashReportHandler",
    "name": "crash_handler"
  },
  {
    "type": "CpuStatsHandler",
    "name": "cpu_stats",
    "config": {
      "cpu_load_cache_duration_ms": 100
    }
  },
  {
    "type": "CpuDeviceHandler",
    "name": "big_cluster_handler",
    "config": {
      "driver_path": "/dev/class/cpu-ctrl/000"
    }
  },
  {
    "type": "CpuDeviceHandler",
    "name": "little_cluster_handler",
    "config": {
      "driver_path": "/dev/class/cpu-ctrl/001"
    }
  },
  {
    "type": "CpuManager",
    "name": "cpu_manager",
    "config": {
      "clusters": [
        {
          "name": "big_cluster",
          "cluster_index": 0,
          "handler": "big_cluster_handler",
          "logical_cpu_numbers": [2, 3, 4, 5],
          "normperfs_per_ghz": 0.5868544600938967
        },
        {
          "name": "little_cluster",
          "cluster_index": 1,
          "handler": "little_cluster_handler",
          "logical_cpu_numbers": [0, 1],
          "normperfs_per_ghz": 0.26371308016877637
        }
      ],
      "thermal_states": [
        {
          "cluster_pstates": [
            0,
            0
          ],
          "min_performance_normperfs": 0.0,
          "static_power_w": 0.07,
          "dynamic_power_per_normperf_w": 0.754
        },
        {
          "cluster_pstates": [
            0,
            1
          ],
          "min_performance_normperfs": 1.57,
          "static_power_w": 0.05,
          "dynamic_power_per_normperf_w": 0.728
        },
        {
          "cluster_pstates": [
            0,
            2
          ],
          "min_performance_normperfs": 4.89,
          "static_power_w": 0.05,
          "dynamic_power_per_normperf_w": 0.726
        },
        {
          "cluster_pstates": [
            0,
            3
          ],
          "min_performance_normperfs": 4.83,
          "static_power_w": 0.05,
          "dynamic_power_per_normperf_w": 0.723
        },
        {
          "cluster_pstates": [
            1,
            0
          ],
          "min_performance_normperfs": 0.64,
          "static_power_w": 0.07,
          "dynamic_power_per_normperf_w": 0.689
        },
        {
          "cluster_pstates": [
            1,
            1
          ],
          "min_performance_normperfs": 1.5,
          "static_power_w": 0.05,
          "dynamic_power_per_normperf_w": 0.661
        },
        {
          "cluster_pstates": [
            1,
            2
          ],
          "min_performance_normperfs": 4.67,
          "static_power_w": 0.05,
          "dynamic_power_per_normperf_w": 0.658
        },
        {
          "cluster_pstates": [
            1,
            3
          ],
          "min_performance_normperfs": 4.59,
          "static_power_w": 0.05,
          "dynamic_power_per_normperf_w": 0.655
        },
        {
          "cluster_pstates": [
            2,
            0
          ],
          "min_performance_normperfs": 0.31,
          "static_power_w": 0.07,
          "dynamic_power_per_normperf_w": 0.621
        },
        {
          "cluster_pstates": [
            2,
            1
          ],
          "min_performance_normperfs": 0.68,
          "static_power_w": 0.05,
          "dynamic_power_per_normperf_w": 0.589
        },
        {
          "cluster_pstates": [
            2,
            2
          ],
          "min_performance_normperfs": 4.45,
          "static_power_w": 0.05,
          "dynamic_power_per_normperf_w": 0.585
        },
        {
          "cluster_pstates": [
            2,
            3
          ],
          "min_performance_normperfs": 4.36,
          "static_power_w": 0.05,
          "dynamic_power_per_normperf_w": 0.581
        },
        {
          "cluster_pstates": [
            3,
            0
          ],
          "min_performance_normperfs": 4.03,
          "static_power_w": 0.07,
          "dynamic_power_per_normperf_w": 0.574
        },
        {
          "cluster_pstates": [
            3,
            1
          ],
          "min_performance_normperfs": 3.82,
          "static_power_w": 0.05,
          "dynamic_power_per_normperf_w": 0.539
        },
        {
          "cluster_pstates": [
            3,
            2
          ],
          "min_performance_normperfs": 4.18,
          "static_power_w": 0.05,
          "dynamic_power_per_normperf_w": 0.535
        },
        {
          "cluster_pstates": [
            3,
            4
          ],
          "min_performance_normperfs": 0.1,
          "static_power_w": 0.05,
          "dynamic_power_per_normperf_w": 0.53
        },
        {
          "cluster_pstates": [
            4,
            1
          ],
          "min_performance_normperfs": 0.0,
          "static_power_w": 0.0,
          "dynamic_power_per_normperf_w": 0.51
        },
        {
          "cluster_pstates": [
            4,
            2
          ],
          "min_performance_normperfs": 3.71,
          "static_power_w": 0.0,
          "dynamic_power_per_normperf_w": 0.504
        },
        {
          "cluster_pstates": [
            4,
            4
          ],
          "min_performance_normperfs": 3.1,
          "static_power_w": 0.0,
          "dynamic_power_per_normperf_w": 0.497
        },
        {
          "cluster_pstates": [
            5,
            2
          ],
          "min_performance_normperfs": 3.27,
          "static_power_w": 0.0,
          "dynamic_power_per_normperf_w": 0.495
        },
        {
          "cluster_pstates": [
            5,
            4
          ],
          "min_performance_normperfs": 1.71,
          "static_power_w": 0.0,
          "dynamic_power_per_normperf_w": 0.486
        }
      ]
    },
    "dependencies": {
      "cpu_device_handlers": [
        "big_cluster_handler",
        "little_cluster_handler"
      ],
      "cpu_stats_handler": "cpu_stats",
      "syscall_handler": "syscall_handler"
    }
  },
  {
    "type": "TemperatureHandler",
    "name": "temperature_soc_pll",
    "config": {
      "driver_path": "/dev/aml-thermal-pll/thermal",
      "cache_duration_ms": 50
    }
  },
  {
    "type": "ThermalLimiter",
    "name": "thermal_limiter"
  },
  {
    "type": "PlatformMetrics",
    "name": "platform_metrics",
    "config": {
      "cpu_temperature_poll_interval_s": 1
    },
    "dependencies": {
      "cpu_temperature_handler_node": "temperature_soc_pll"
    }
  },
  {
    "type": "ThermalPolicy",
    "name": "thermal_policy",
    "dependencies": {
      "crash_report_handler_node": "crash_handler",
      "temperature_handler_node": "temperature_soc_pll",
      "cpu_control_nodes": [
        "cpu_manager"
      ],
      "system_power_handler_node": "sys_shutdown",
      "thermal_limiter_node": "thermal_limiter",
      "platform_metrics_node": "platform_metrics"
    },
    "config": {
      "controller_params": {
        "sample_interval": 1.0,
        "filter_time_constant": 5.0,
        "target_temperature": 90.0,
        "e_integral_min": -32.5,
        "e_integral_max": 0.0,
        "sustainable_power": 3.9,
        "proportional_gain": 0.0,
        "integral_gain": 0.12
      },
      "thermal_shutdown_temperature": 100.0,
      "throttle_end_delay": 60.0
    }
  }
]