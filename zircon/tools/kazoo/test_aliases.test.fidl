// Copyright 2019 The Fuchsia Authors. All rights reserved.
// Use of this source code is governed by a BSD-style license that can be
// found in the LICENSE file.
library zx;

// Mirrors alias_workarounds[.test].fidl. We don't want to pull real syscalls
// into the test data, so these are copied here. The structs and basic types
// will eventually go away when we can make this test pull in a zx.fidl that
// contains them.

type HandleDisposition = struct {};
type HandleInfo = struct {};
type PciBar = struct {};
type PortPacket = struct {};
type WaitItem = struct {};

alias ConstFutexPtr = int32;
alias ConstVoidPtr = uint64;
alias MutableUint32 = uint32;
alias MutableUsize = usize;
alias MutableVectorHandleDispositionU32Size = vector<HandleDisposition>;
alias MutableVectorWaitItem = vector<WaitItem>;
alias MutableVectorHandleU32Size = vector<handle>;
alias MutableVectorVoid = vector<byte>;
alias MutableVectorVoidU32Size = vector<byte>;
alias VectorHandleInfoU32Size = vector<HandleInfo>;
alias VectorHandleU32Size = vector<handle>;
alias VectorPaddr = vector<paddr>;
alias VectorVoid = vector<byte>;
alias VectorVoidU32Size = vector<byte>;
alias VoidPtr = uint64;

@transport("Syscall")
protocol Aliases {
    SomeFunc(resource struct {
        b ConstFutexPtr;
        c ConstVoidPtr;
        e MutableUint32;
        f MutableUsize;
        g MutableVectorHandleDispositionU32Size;
        h MutableVectorWaitItem;
        i MutableVectorHandleU32Size;
        j MutableVectorVoid;
        k MutableVectorVoidU32Size;
        l VectorHandleInfoU32Size;
        m VectorHandleU32Size;
        n VectorPaddr;
        o VectorVoid;
        p VectorVoidU32Size;
        q VoidPtr;
    }) -> (struct {}) error status;
};
